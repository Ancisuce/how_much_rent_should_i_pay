webpackJsonp([1],{"0RIN":function(t,e){},FJdm:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("MVMM"),r={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var s=a("vSla")({name:"App"},r,!1,function(t){a("0RIN")},null,null).exports,n=a("zO6J"),i=a("Q+Ik"),l=a.n(i),u=a("KH7x"),c=a.n(u),d=a("HzJ8"),m=a.n(d),v=a("nUeE"),f=a.n(v),h={name:"Modal",data:function(){return{name:""}},props:{showModal:{type:Boolean,default:!1}},methods:{close:function(){this.showModal=!1},confirm:function(){this.$emit("confirm",this.name)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[t._t("header")],2),a("div",{staticClass:"modal-body"},[t._t("body")],2),a("div",{staticClass:"modal-footer"},[t._t("footer",[a("button",{staticClass:"btn btn-danger",on:{click:t.close}},[t._v("取消")]),a("button",{staticClass:"btn btn-success",on:{click:t.confirm}},[t._v("确认")])])],2)])])])]):t._e()},staticRenderFns:[]};var _={name:"Home",components:{modal:a("vSla")(h,p,!1,function(t){a("kpvR")},"data-v-5ecf8643",null).exports},data:function(){return{loadList:[],save:{key:"",value:""},showModal:!1,square:"",roomQuantity:null,rent:"",rooms:[]}},watch:{roomQuantity:function(t){for(var e=[],a=0;a<t;a++)e.push({index:a+1,square:1});this.rooms=e}},computed:{baseInfoFilled:function(){return this.square&&this.roomQuantity&&this.rent},roomsSquare:function(){if(this.rooms.length){var t=0,e=!0,a=!1,o=void 0;try{for(var r,s=m()(this.rooms);!(e=(r=s.next()).done);e=!0){t+=r.value.square}}catch(t){a=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(a)throw o}}return t}},basedOnRoomsOnly:function(){var t=this;if(this.rooms.length)return this.rooms.map(function(e,a){return{index:a+1,square:e.square,rent:(e.square/t.roomsSquare*t.rent).toFixed(2)}})},publicShared:function(){if(this.rooms.length){for(var t=(this.rent/this.square).toFixed(2),e=this.square,a=0;a<this.rooms.length;a++)e-=this.rooms[a].square;return this.rooms.map(function(a,o){return{index:o+1,square:a.square,rent:(a.square*t+e*t/3).toFixed(2),privateRent:(a.square*t).toFixed(2),publicRent:(e*t/3).toFixed(2)}})}}},methods:{reset:function(){location.reload()},showSaveModal:function(){this.save.key=Date.now(),this.showModal=!0},saveData:function(){f.a.set("Record",this.$data)},confirmSave:function(){var t=f.a.get("INDEX")||[];t.push(this.save),f.a.set("INDEX",t);var e=this.$data,a=e.square,o=e.roomQuantity,r=e.rent,s=e.rooms;f.a.set(this.save.key,{square:a,roomQuantity:o,rent:r,rooms:s}),this.showModal=!1,this.reset()},load:function(t){var e=f.a.get(t),a=!0,o=!1,r=void 0;try{for(var s,n=m()(l()(e));!(a=(s=n.next()).done);a=!0){var i=s.value,u=c()(i,2),d=u[0],v=u[1];this[d]=v}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}},loadData:function(){this.loadList=f.a.get("INDEX")||[]}},mounted:function(){this.loadData()}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container home"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("h1",[t._v("合租房租计算器")]),t.baseInfoFilled?a("button",{staticClass:"btn btn-primary",on:{click:t.showSaveModal}},[t._v("保存当前方案")]):t._e(),a("h3",[t._v("基本信息")]),a("form",{staticClass:"form"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"square"}},[t._v("室内总面积 ( ㎡ ) ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.square,expression:"square",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"square",placeholder:"输入总面积"},domProps:{value:t.square},on:{input:function(e){e.target.composing||(t.square=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"rent"}},[t._v("月租金(元)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rent,expression:"rent",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"rent",placeholder:"输入总租金"},domProps:{value:t.rent},on:{input:function(e){e.target.composing||(t.rent=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"roomQuantity"}},[t._v("房间数量")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.roomQuantity,expression:"roomQuantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"roomQuantity",placeholder:"输入房间数量"},domProps:{value:t.roomQuantity},on:{input:function(e){e.target.composing||(t.roomQuantity=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t.baseInfoFilled?[a("hr"),a("h3",[t._v("房间信息")]),a("form",{staticClass:"form"},t._l(t.rooms,function(e,o){return a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"squard"}},[t._v("房间 "+t._s(e.index)+"# 面积(㎡)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rooms[o].square,expression:"rooms[i].square",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"squard",placeholder:"输入房间"+e.index+"#面积"},domProps:{value:t.rooms[o].square},on:{input:function(e){e.target.composing||t.$set(t.rooms[o],"square",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])})),a("hr"),a("h3",[t._v("房租方案")]),a("h4",[t._v("只按房间面积均摊")]),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.basedOnRoomsOnly,function(e){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.index))]),a("th",{attrs:{scope:"row"}},[t._v(t._s(e.square)+" ㎡")]),a("td",[t._v("￥ "+t._s(e.rent))])])}))]),a("h4",[t._v("房间面积结合公共空间")]),a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.publicShared,function(e){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.index))]),a("th",{attrs:{scope:"row"}},[t._v(t._s(e.square)+"㎡")]),a("td",[t._v("￥ "+t._s(e.rent))]),a("td",[t._v("￥ "+t._s(e.privateRent))]),a("td",[t._v("￥ "+t._s(e.publicRent))])])}))])]:t._e()],2),a("div",{staticClass:"col-md-3 history"},[a("p",[t._v("历史记录")]),t.loadList?a("ol",t._l(t.loadList,function(e,o){return a("li",{staticClass:"text-primary",on:{click:function(a){t.load(e.key)}}},[t._v(t._s(e.value))])})):t._e()])]),a("modal",{ref:"modal",attrs:{showModal:t.showModal},on:{confirm:t.confirmSave}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("编号："+t._s(t.save.key))]),a("form",{staticClass:"form",attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"save"}},[t._v("方案名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.save.value,expression:"save.value"}],staticClass:"form-control",attrs:{type:"text",id:"save",placeholder:"输入方案名称"},domProps:{value:t.save.value},on:{input:function(e){e.target.composing||t.$set(t.save,"value",e.target.value)}}})])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#编号")]),e("th",[this._v("面积")]),e("th",[this._v("月租")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#编号")]),e("th",[this._v("面积")]),e("th",[this._v("月租")]),e("th",[this._v("私人月租")]),e("th",[this._v("公共月租")])])])}]};var y=a("vSla")(_,b,!1,function(t){a("FJdm")},"data-v-e53ad43a",null).exports;o.a.use(n.a);var q=new n.a({routes:[{path:"/",name:"Home",component:y}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:q,components:{App:s},template:"<App/>"})},kpvR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7f12c0bbc01379eb523d.js.map